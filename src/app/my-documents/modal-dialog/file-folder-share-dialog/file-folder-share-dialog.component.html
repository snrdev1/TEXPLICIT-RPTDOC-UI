<app-dialog-base [modalTitle]="'Share File/Folder'" (onClose)="onCloseClick()">
  <mat-tab-group content>
    <mat-tab label="Texplicit User">
      <div class="tab-content">
        <mat-dialog-content class="mat-dialog-body">
            <app-search-input [placeHolder]="'Search User(s)'" [searchValue]="userSearchQuery" (onCharSearch)="searchUsers($event)" (onClear)="clearUserSearch()"></app-search-input>
        </mat-dialog-content>
        <div class="users-container">
            <ul class="user" *ngFor="let user of filteredUsers">
                <li class="user-icon">
                    <img src="../../../assets/images/user-icon.png"/>
                </li>
                <li class="user-name">
                    <div>
                        <h5>{{user.name}}</h5>
                    </div>
                </li>
                <li class="user-buttons">
                    <button matTooltip="Share" (click)="shareDocument(user._id)" *ngIf="!hasAccess(user._id)">
                        <mat-icon>share</mat-icon>
                    </button>
                    <button matTooltip="Already Shared" (click)="shareDocument(user._id)" *ngIf="hasAccess(user._id)">
                        <mat-icon>done</mat-icon>
                    </button>
                </li>
            </ul>
        </div>
    </div>
    </mat-tab>

    <mat-tab label="Email">
      <div class="tab-content">
        <mat-form-field class="emails-chip-list">
          <mat-label>Email Addresses</mat-label>
          <mat-chip-grid #chipGrid aria-label="Enter emails">
            <ng-container *ngFor="let email of emails; let i = index">
              <mat-chip-row
                (removed)="remove(email)"
                [editable]="true"
                (edited)="edit(email, $event)"
                [aria-description]="'press enter to edit ' + email.address">
                {{email.address}}
                <button matChipRemove [attr.aria-label]="'remove ' + email.address">
                  <mat-icon>cancel</mat-icon>
                </button>
              </mat-chip-row>
            </ng-container>
            <input placeholder="New email..."
                   [matChipInputFor]="chipGrid"
                   [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                   [matChipInputAddOnBlur]="addOnBlur"
                   (matChipInputTokenEnd)="add($event)"/>
          </mat-chip-grid>
        </mat-form-field>
      </div>
    </mat-tab>
  </mat-tab-group>
</app-dialog-base>
